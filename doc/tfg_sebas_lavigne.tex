\documentclass[a4paper,
	11pt,
	parskip=full,
	bibliography=totoc,
	twoside
	]{scrartcl}
	
%Indentation
\parskip=12pt 
\parindent=0pt

%Line spacing
\usepackage{setspace} 

%Language
\usepackage[spanish]{babel}
\renewcommand\spanishtablename{Tabla}

%SI
\usepackage[detect-none]{siunitx}
\sisetup{range-phrase = \text{--}}

%Hyperlinks
\usepackage[
urlcolor=WaveBlue,
citecolor=WaveLightBlue,
linkcolor=WaveLightBlue,
colorlinks=true
]{hyperref}
\newcommand*{\Appendixautorefname}{Apéndice}

%Fonts
\renewcommand*\familydefault{\sfdefault} 
\usepackage[T1]{fontenc}
\usepackage{fontspec}
\usepackage[svgnames]{xcolor}
\usepackage{titlesec}
\defaultfontfeatures{Ligatures=TeX}
%\usepackage[scaled]{helvet}
% Set sans serif font to Calibri
\setsansfont{Arial}
% Set serifed font to Cambria
\setmainfont{Cardo}

%Itemize character
\renewcommand{\labelitemi}{$\bullet$}

%Colors
\definecolor{WaveBlue}{RGB}{0,11,100}
\definecolor{WaveLightBlue}{rgb}{0.32,0.60,0.98}


\addtokomafont{section}{\rmfamily\bfseries\LARGE\color{WaveBlue}}
\addtokomafont{sectioning}{\rmfamily\bfseries\color{WaveBlue}}
\addtokomafont{part}{\rmfamily\bfseries\color{WaveBlue}}
%\titleformat*{\section}{\Large\bfseries\normalfont\color{MSBlue}}
%\titleformat*{\subsection}{\large\bfseries\sffamily\color{MSLightBlue}}
%\titleformat*{\subsubsection}{\large\bfseries\sffamily\color{MSLightBlue}}
%\titleformat*{\paragraph}{\large\bfseries\sffamily\color{MSLightBlue}}
%\titleformat*{\subparagraph}{\large\bfseries\sffamily\color{MSLightBlue}}

%Euro symbol
\usepackage[official]{eurosym}

%Line Spacing
% 1.3 indica "uno y medio"
%\linespread{1.3}

%New page on new section
\usepackage{titlesec}
\newcommand{\sectionbreak}{\clearpage}

%No page break in paragraphs
%\widowpenalties 1 10000
%\raggedbottom

%Start section on odd page
\let\oldsection\section
\def\section{\cleardoubleoddpage\oldsection}

%Lines after paragraph and subparagraph
\RedeclareSectionCommands[
afterskip=1sp
]{paragraph,subparagraph}

%Lists customization
\usepackage{enumitem}

%Graphics
\usepackage{graphicx}
\usepackage{caption}
\usepackage{sidecap}
\usepackage{float}
\usepackage{wrapfig}

%Charts and plots
%\usepackage{pgf-pie}

%Floating limits
\usepackage{placeins}

%TOC
%\usepackage[toc]{multitoc}
%\renewcommand*{\multicolumntoc}{2}
%\setlength{\columnseprule}{0.5pt}
\usepackage{tocloft}
%\renewcommand{\cftchapfont}{\normalfont\sffamily}   
\renewcommand{\cftsecfont}{\bfseries\sffamily\color{WaveBlue}} 

		%Cambia el espacio entre lineas del indice
		\setlength\cftparskip{4pt}
		%\setlength\cftbeforechapskip{0pt}

%Booktabs style table
\usepackage{booktabs}
\newcommand{\tabitem}{~~\llap{\textbullet}~~}

%Mutlicols
\usepackage{multicol}

%Citas
\usepackage[autostyle]{csquotes} 

%Headers and footers
\usepackage{fancyhdr}
\setlength\headheight{15.2pt}
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\fancyhf[HLE]{\rmfamily\itshape Java Untersee}
\fancyhf[HRE]{\rmfamily\rightmark}
\fancyhf[HLO]{\includegraphics[height=1cm]{img/IC_iesvallejerteplasencia.png}}
\fancyhf[HRO]{\rmfamily Sebastián Lavigne Kálmar}
\fancyhf[FLE,FRO]{\thepage}
\fancyhf[FC]{}
%\fancyhf[FLE, FLO]{David Bermejo, Sebastián Lavigne}

\addtolength{\textheight}{1.5cm}

%Switch margins for binding
%\let\tmp\oddsidemargin
%\let\oddsidemargin\evensidemargin
%\let\evensidemargin\tmp
%\reversemarginpar

%Included pdfs
\usepackage{pdfpages}

%Title page
%\title{Java Untersee}
%\subtitle{text}

\begin{document}
%\includepdf{cover.pdf}

\cleardoubleoddpage
\begin{titlepage}
	{\space}
	\vspace{5cm}
	\centering
	{\rmfamily\bfseries\Huge Java Untersee\par}
	\vspace{1.5cm}
	{\rmfamily\scshape\LARGE Proyecto de innovación\par}
	\vspace{1.5cm}
	{\rmfamily\scshape\LARGE Grado en Desarrollo de Aplicaciones Multiplataforma \par}
	\vspace{0.2cm}
	{\rmfamily\scshape\Huge I.E.S. Valle del Jerte \par}
	\vspace{1cm}
	\raggedleft
	\vfill
	{\rmfamily\bfseries\large 2º DAM\linebreak}
	{\rmfamily\bfseries\large\today\par}
	\vspace{1cm}
	{\rmfamily\bfseries\Large Sebastián Lavigne Kálmar\linebreak}
	{76121350K}
	\vfill
	\includegraphics[width=6cm]{img/DAM_iesvallejerteplasencia.png}
	
	
	
\end{titlepage}

\cleardoubleoddpage
\tableofcontents
%\addtocontents{toc}{\protect\thispagestyle{fancy}}
%\addtocontents{toc}{~\hfill\textbf{Página}\par}

\doublespacing

\cleardoubleoddpage
\section{Descripción}
\label{sec:descripcion}
	
	
	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean condimentum arcu velit, vel euismod ipsum hendrerit ut. In hac habitasse platea dictumst. Mauris nulla turpis, mattis id massa quis, accumsan iaculis orci. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Praesent eu sapien eu felis porttitor tincidunt eget nec ex. Donec id dictum ipsum, id placerat orci. Sed cursus massa in ullamcorper elementum. Mauris id nisi at urna tristique ultrices eu non sapien. Sed sollicitudin nibh at purus mattis rutrum.
	
	Sed luctus velit vel nibh accumsan, in elementum orci facilisis. Nulla tincidunt lobortis elit, condimentum blandit massa condimentum et. Etiam vel cursus odio. Nulla vulputate, purus sed posuere tristique, justo diam sodales ex, et condimentum dolor eros ultricies ante. Donec lacinia libero metus, sed condimentum elit interdum vitae. Vestibulum vehicula tempor risus, sit amet tempor risus auctor nec. Vivamus vel nisl lectus. Maecenas quis nulla felis. Praesent suscipit diam sit amet augue mollis hendrerit. Nullam a ipsum urna. Fusce leo elit, malesuada et vehicula vitae, dictum volutpat lacus.
	
	Nunc egestas ex eu neque consequat tempus. Aliquam molestie nisi quis feugiat dignissim. Donec lacinia blandit justo, eget commodo sem posuere et. Curabitur et euismod lectus. Duis ac lectus rutrum, aliquet diam a, elementum ante. Duis sed libero porta, tempor tellus et, rhoncus metus. Nulla quis nisl risus. Proin interdum, nulla pulvinar mollis aliquam, lacus enim blandit sapien, laoreet porta dui nulla non orci. Duis hendrerit ante in elit gravida, vel ultricies magna ultrices. Etiam placerat elit id nisi malesuada, sed congue magna fringilla. Sed eleifend metus vel facilisis sagittis. Vestibulum pulvinar malesuada purus, sed vulputate sapien feugiat id.
	
	Nam mollis egestas urna id feugiat. Duis venenatis lobortis tellus, at congue erat efficitur sed. Mauris risus tortor, gravida eget lacinia sit amet, vestibulum non lacus. Nunc at odio in magna vulputate gravida id ac arcu. Phasellus pellentesque consectetur velit, ac interdum mi dignissim et. Etiam imperdiet venenatis diam, vel dapibus erat finibus sed. Curabitur sit amet urna sit amet eros finibus rhoncus. Suspendisse ut velit mi. Cras venenatis, ipsum maximus posuere fermentum, sapien ipsum lobortis elit, vitae dictum massa ante et odio. In consequat metus tortor, vitae hendrerit libero iaculis aliquet. Vestibulum ullamcorper ex at massa eleifend tincidunt. Suspendisse eleifend sit amet eros quis auctor.
	
	Aenean vitae commodo nisi, a tincidunt risus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Cras a velit sapien. Mauris vitae auctor est, vitae ultricies lacus. Proin porta sapien dolor, id gravida est molestie eget. Morbi scelerisque nisi at faucibus fringilla. Donec vitae leo euismod, hendrerit sem nec, faucibus odio. Pellentesque sit amet ipsum ac tortor aliquam ultricies. Fusce libero diam, semper vitae porttitor gravida, sollicitudin vel lectus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In vitae nulla sodales, feugiat felis eget, malesuada nisi. Cras condimentum lorem turpis.
	
	Morbi vulputate tincidunt consequat. Aenean pulvinar, orci quis sollicitudin iaculis, purus elit fringilla ligula, in venenatis odio nibh ut nisi. Pellentesque rutrum sapien at maximus convallis. Sed dui lectus, viverra et velit et, elementum bibendum tortor. Cras quis purus sem. Sed scelerisque nunc mi, eget vehicula lacus feugiat a. Pellentesque ultricies blandit ipsum. Integer in vehicula ipsum. Donec at ullamcorper dui. Nam aliquam euismod eleifend. Nam id turpis ante. Donec quis convallis mauris. Curabitur id nisi a ex imperdiet efficitur sed eu risus.
	
	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Vivamus dapibus mattis convallis. Donec porta justo in nunc bibendum, ac suscipit arcu blandit. Duis sagittis turpis in mollis malesuada. Ut sagittis faucibus dapibus. Etiam ut ultricies ante. Sed sem dolor, euismod vitae mauris ut, dignissim convallis justo. In vel nisl orci.
	
	Aliquam erat volutpat. Integer orci lacus, tristique nec accumsan a, ullamcorper sed odio. Quisque felis nisi, tristique interdum eros nec, cursus posuere odio. Cras aliquet porta tellus, et ullamcorper orci ultricies eu. Praesent lorem augue, aliquet quis metus eu, imperdiet ultrices lacus. Nunc maximus, mi accumsan malesuada fringilla, risus sapien porta justo, non efficitur eros orci sit amet risus. Donec dapibus vestibulum nunc at mollis. Pellentesque suscipit auctor velit nec sollicitudin. Curabitur dapibus nisi hendrerit sollicitudin ullamcorper. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aenean velit ipsum, faucibus in scelerisque sed, faucibus sed ante. Quisque sodales porta nibh, in auctor turpis. Mauris sagittis rhoncus quam. Praesent rutrum, urna a porta volutpat, libero risus congue eros, sed pulvinar orci massa et elit. Sed sed vestibulum turpis. Pellentesque eleifend egestas elit vitae blandit.
	
	Morbi vel massa luctus, scelerisque libero eu, lacinia lectus. Fusce auctor enim orci. Maecenas gravida nunc at tempus facilisis. Nam tempor, lacus nec malesuada varius, odio lacus auctor metus, id auctor nisl orci id risus. Duis suscipit vel dui ut sodales. Donec at mollis urna. Fusce aliquam ut turpis a blandit. Nulla ut laoreet nunc. Suspendisse commodo id lorem vitae sodales. Mauris cursus, erat vel ultrices posuere, odio leo fermentum velit, at venenatis lectus nisl sed nisl.
	
	Phasellus id risus ut velit porta hendrerit quis et ex. Maecenas massa elit, venenatis sit amet est accumsan, imperdiet tincidunt velit. Nunc vitae gravida risus. Aliquam ac eleifend ex, eu venenatis erat. Quisque vel odio pretium, vestibulum dolor vitae, ultrices tortor. Proin tincidunt hendrerit accumsan. Ut vel sapien eget velit rhoncus cursus in blandit augue. Vivamus condimentum consequat lorem, vitae dignissim quam varius et. Sed mattis tincidunt erat, mattis hendrerit leo imperdiet ut.
	
	In hac habitasse platea dictumst. Morbi eget sem tortor. Etiam fringilla tortor nunc, et sollicitudin erat tincidunt non. Mauris fringilla semper arcu, non porta eros vulputate eget. Curabitur bibendum magna vel leo mollis, eu fringilla elit ultricies. Suspendisse potenti. Pellentesque commodo aliquet ex, eu tristique risus pretium quis. Nam pharetra tortor eu aliquam pharetra. Aliquam at sagittis sem. Nulla in nunc pretium, molestie tortor in, porta lacus. Nullam nisl nibh, consectetur porttitor feugiat nec, mattis et ante. In id enim blandit ex gravida cursus vel quis odio. Sed consequat eget nunc consectetur vulputate.
	
	Donec vitae lorem mollis, volutpat purus at, bibendum quam. Integer ut ex eu nulla dignissim auctor. Phasellus posuere sem fermentum libero fringilla egestas. Etiam ullamcorper, dui sit amet lacinia pellentesque, turpis felis rhoncus dui, non placerat justo enim non massa. Praesent cursus libero libero, sed convallis felis venenatis eget. Nullam rhoncus ultrices tellus in efficitur. Sed tempus congue vehicula. Phasellus pellentesque ante lectus, quis euismod elit rutrum vestibulum. Mauris mattis molestie nunc nec venenatis. Fusce placerat dapibus mauris eget tempus. Phasellus consectetur ante a ligula sagittis, non cursus felis maximus. Duis ultrices a sem vitae rutrum. Aliquam erat volutpat. Aenean eget venenatis odio. Donec fringilla libero diam, in ultricies enim feugiat vitae.
	
	Nunc ut elit eu nibh tristique dignissim non non diam. Curabitur ornare id velit ut gravida. Duis vitae metus justo. Vivamus eget ante elit. Nunc mattis urna vitae laoreet mollis. Sed scelerisque dui nulla, sit amet aliquam metus facilisis quis. Donec venenatis convallis mi et accumsan.
	
	Donec a ex quam. Proin elementum ultrices libero. Suspendisse vitae felis sodales, tristique quam a, dapibus leo. Sed vel arcu diam. Fusce dapibus malesuada tempor. Nullam urna neque, sodales a diam et, varius condimentum ante. Donec eget odio nec metus laoreet laoreet nec ut ex. Aenean vel velit lacus. Vivamus nec lobortis neque, non ultrices orci. Vivamus dolor arcu, porttitor id libero eu, suscipit facilisis lacus. Sed tristique libero sed metus laoreet, sed luctus ante cursus. Sed id ex turpis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed erat sem, porttitor eget ex vehicula, hendrerit vehicula mi.
	
	Aenean in bibendum dui. Praesent et ligula vel ante luctus luctus. Pellentesque suscipit tortor in arcu fermentum, et egestas nisi accumsan. Suspendisse dignissim erat ligula, et bibendum metus venenatis nec. Sed diam lectus, molestie ac ante vitae, rhoncus fermentum eros. Aliquam gravida volutpat nulla id condimentum. Etiam tincidunt finibus erat quis tempor. Praesent efficitur luctus porttitor. Maecenas ultrices tempor ligula, sit amet aliquam lectus pulvinar in. Mauris eget faucibus felis. Praesent tempor bibendum porta. Vivamus ipsum quam, sodales sed blandit et, tincidunt a massa. In tincidunt metus a mollis auctor. Mauris non lectus non lacus vestibulum sagittis. 

\section{Objetivos}
\label{sec:objetivos}

\section{Justificación}
\label{sec:justificacion}

\section{Descripción técnica}
\label{sec:desc_tecnica}
	\subsection{Estructura del proyecto}
	\label{subsec:estructura}
		El proyecto sigue, como base, la estructura \textit{Modelo Vista Controlador}.
		
		\paragraph{El modelo}
			Contiene una representación numérica del mundo simulado. Aquí existen los distintos barcos y el submarino del jugador contenidos dentro de un \textit{escenario} que está aislado del resto del programa. Es decir, el modelo no conoce sobre la existencia de la vista, del controlador, o incluso del jugador que influye en su evolución. Como se verá más adelante, existen dentro de él algunas clases que actúan de enlace entre el escenario y el resto del programa. La evolución del modelo a lo largo del tiempo se detalla en la \autoref{subsec:motor_juego}, \nameref{subsec:motor_juego}, en la página \pageref{subsec:motor_juego}.
					
		\paragraph{La vista}
			Se encarga de representar gráficamente los datos simulados en el modelo. Se podría decir que la vista sí conoce sobre la existencia del modelo, aunque sólo toma los datos necesarios relativos a la posición de los distintos elementos del juego en cada momento para mostrarlos por pantalla. Su implementación se explica en la \autoref{subsec:motor_grafico}, \nameref{subsec:motor_grafico}, en la página \pageref{subsec:motor_grafico}.
			
		\paragraph{El controlador}
			Es el núcleo del programa. Arranca el juego, cargando los datos necesarios e inicializando la vista y el modelo. Su pieza más importante es el \textit{bucle de juego} (definido en la \autoref{subsec:bucle_juego}, página \pageref{subsec:bucle_juego}), que ordena al modelo a avanzar en el tiempo y a la vista a actualizar la información representada. Actúa como puente para la totalidad del programa a través de clases \textit{híbridas}, o intermedias.
			
		\paragraph{Clases híbridas}
			Para facilitar la interacción entre las distintas secciones del programa, existen clases que cumplen funciones que se extienden más allá del ámbito propio de la vista o el modelo. Por ejemplo, la \textit{Cámara} y el \textit{Segundo al mando} están contenidos en el modelo, pero ``son conscientes'' del usuario y contienen información que sólo es relevante a la vista y no a la simulación.  Su uso se explica respectivamente en las subsecciones \ref{subsec:motor_grafico} \nameref{subsec:motor_grafico} (pág. \pageref{subsec:motor_grafico}) y \ref{subsec:interprete_comandos} \nameref{subsec:interprete_comandos} (pág. \pageref{subsec:interprete_comandos}).
			
		\paragraph{Clases comunes}
			En el programa se encuentran algunas clases que son de uso común para todos los componentes. Son la clase utilidad \textit{Magnitudes}, para la conversión de las distintas unidades usadas en la simulación y la representación gráfica; la clase \textit{Reloj}, para cálculos temporales relacionados con el tiempo de ejecución del programa; y la clases \textit{Orden} y \textit{Verbose}, que definen una acción a realizar por el submarino, comandada por el jugador, y su reconocimiento verbal por parte de la tripulación.
			
	\subsection{Bucle de juego}
	\label{subsec:bucle_juego}
		El bucle de juego está contenido en la clase \textit{Máster}, que toma el control del programa una vez se haya arrancado y se hayan cargado sus componentes. Es la fuerza motriz detrás de la simulación y la visualización.
		
		Consiste en un bucle infinito que manda a la vista repintar la pantalla, avanzar temporalmente la simulación y esperar un tiempo determinado antes de la siguiente iteración. Este tiempo de espera varía entre cada iteración dependiendo del tiempo transcurrido en la ejecución de la simulación, que tiende a ser constante, y la representación gráfica, que es mayor o menor en función de los objetos que haya en pantalla.
		
		El bucle busca iterar con una frecuencia de 60 veces por segundo, o cada 16 milisegundos. Cada iteración se guarda la hora del sistema antes y después de las fases de simulación y gráficos, y se calcula el tiempo de espera en base a su diferencia. Esta tasa de refresco está definida en la clase \textit{Reloj} para poder ser ajustada fácilmente.
	
	\subsection{Motor de juego}
	\label{subsec:motor_juego}
		\paragraph{El paso del tiempo}
			Por cada iteración del bucle de juego se ejecuta un paso en la simulación. El motor de juego tiene en cuenta el tiempo que dura cada ``tic'', y por tanto siempre evoluciona igual en tiempo real independientemente de la frecuencia del bucle. Es decir, un barco moviéndose por la pantalla a una velocidad fija siempre recorrerá la misma distancia en el mismo tiempo desde el punto de vista del jugador. Modificar el valor de refresco en la clase \textit{Reloj} sólo alterará la fluidez y la precisión de la simulación.
			
		\paragraph{El escenario}
			La simulación gira en torno a la clase \textit{Escenario}. Ésta contiene el submarino del jugador, una lista de barcos y una lista de proyectiles. Sus funciones consisten en repercutir la orden de avanzar un ``tic'' en todos los objetos del mapa, y eliminarlos si han sido marcados como \textit{destruido}.
		
		\paragraph{La clase Navío}
			La clase abstracta \textit{Navío} es la base de todos los objetos del juego. Contiene las propiedades de posición, dirección y velocidad actual y deseada de un navío, y sus capacidades de aceleración, velocidad máxima y relación de viraje.
			
			También contiene métodos que modifican los valores actuales por cada ``tic'' en función de los valores deseados y capacidades del barco, y métodos de cálculo de posición y dirección relativas a otros objetos.
			
			Cada barco y proyectil del juego heredan de esta clase y definen sus propios atributos, o modifican y añaden sus métodos para definir sus propias habilidades.
			
		\paragraph{Física de los navíos}
			El movimiento de los objetos en el mapa procura ser fiel a la realidad, siguiendo patrones básicos de mecánica clásica y dinámica naval. Esto da al jugador la sensación de estar controlando un navío de gran tamaño, debiendo tener en cuenta el tiempo de respuesta para tomar decisiones por adelantado. Al mismo tiempo, el código procura hacer un balance entre la complejidad del movimiento y la jugabilidad.
			
			Todos los objetos del escenario están contenidos en un espacio bidimensional, con la propiedad adicional de \textit{profundidad}, que está fijada en cero para todos los barcos con la excepción del submarino del jugador. Esto significa que los cálculos de posición relativa siempre están contenidos en el plano, sin tener en cuenta la tercera dimensión que añade la profundidad.
			
			Los cálculos en el motor de juego se realizan con unidades marítimas.
	
	\subsection{Motor gráfico}
	\label{subsec:motor_grafico}
		El proyecto cuenta con un motor gráfico propio para representar la simulación. Usa la librería \textit{Swing} como base para soportar la ventana y los paneles en los que dibujar las imágenes. La vista cuenta con varias clases para representar información en los distintos paneles, siendo la \textit{Pantalla de Mapa} la principal.
		
		\paragraph{La cámara}
			El objeto \textit{Cámara} es una de las piezas principales en el momento de visualizar el juego por pantalla. Su clase está incluida en el modelo y hereda de \textit{Navío}, por lo que respecto a la simulación es un objeto que se encuentra en el plano junto a los demás barcos. De esta manera puede acceder a los mismos métodos de posición relativa a otros navíos. Posee el atributo propio de zoom, que no es relativo a la simulación pero que es esencial para la vista.
			
			La cámara también admite las acciones del jugador que recibe del controlador. El jugador puede cambiar el nivel de zoom, enfocarse en el submarino o mover la cámara a otros puntos del mapa usando el ratón.
			
		\paragraph{La pantalla de mapa}
			La pantalla de mapa se encarga de representar visualmente la simulación desde un punto de vista cenital. Sitúa la cámara en el centro del panel y dibuja el mar los barcos calculando sus coordenadas en pantalla a partir de la posición relativa en el plano. Para traducir las unidades marítimas que utiliza el juego a píxeles en la pantalla se usa la clase utilidad \textit{Magnitudes}.
			
			En función del zoom que tenga la cámara en cada momento se pinta la pantalla de una forma u otra. Para niveles de zoom cercanos se muestra el juego en una vista ``real'':
			
			\begin{itemize}[noitemsep]
				\item Se rellena el fondo con las casillas del mar animadas. El número y tamaño de casillas a mostrar se calcula en base al zoom de la cámara de forma que ocupen el panel.
				\item Se superpone una imagen con transparencia que simula el brillo del sol en el mar.
				\item Se dibuja el submarino, el resto de barcos y proyectiles presentes en el escenario. El tamaño de su sprite y su posición relativa al centro de la pantalla dependerán del zoom y de su posición relativa a la cámara en la simulación. El submarino cambia a colores más o menos oscuros en función de su profundidad.
			\end{itemize}
		
			Para niveles de zoom lejanos se muestra el juego en una vista ``estratégica'':
			
			\begin{itemize}[noitemsep]
				\item El fondo toma un color fijo y se pintan líneas de cuadrante que representan una distancia de una kiloyarda.
				\item Se marca la posición del submarino y de los barcos con un cuadrado y el nombre con el que hayan sido designados por el sonar en el juego.
				\item Se superpone una imagen con transparencia que simula la pantalla de un viejo monitor.
			\end{itemize}
		
			La cámara tiene definidos los niveles de zoom en los que se pinta el juego de una manera u otra, así como el rango de transición de un modo a otro, en el que se mezclan las dos vistas usando transparencias.
	
	\subsection{Intérprete de comandos}
	\label{subsec:interprete_comandos}
	
	\subsection{Propiedades e internacionalización}
	\label{subsec:propiedades_internacionalizacion}
	
	\subsection{Rendimiento}
	\label{subsec:rendimiento}
	
\section{Medios utilizados}
\label{sec:medios}
	El proyecto cuenta con recursos gráficos usados bajo licencias libres o con permiso de los autores.
	
	\paragraph{Sea Warfare set, ships and more}
		Sprites para los distintos barcos y el submarino del jugador.
		\begin{labeling}{\textbf{Dirección}}
			\item[\textbf{Autor}] Lowder2
			\item[\textbf{Licencia}] \href{https://creativecommons.org/publicdomain/zero/1.0/deed.es}{CC0 1.0 Universal (CC0 1.0)
				Dedicación de Dominio Público}
			\item[\textbf{Dirección}] \href{https://opengameart.org/content/sea-warfare-set-ships-and-more}{https://opengameart.org/content/sea-warfare-set-ships-and-more}
		\end{labeling}
	
	\paragraph{The Battle for Wesnoth water animation}
	Sprites para el mar animado y encasillable.
	\begin{labeling}{\textbf{Dirección}}
		\item[\textbf{Autores}] Zabin y zookeper
		\item[\textbf{Licencia}] \href{https://creativecommons.org/publicdomain/zero/1.0/deed.es}{CC0 1.0 Universal (CC0 1.0)
			Dedicación de Dominio Público}
		\item[\textbf{Dirección}] \href{https://opengameart.org/content/the-battle-for-wesnoth-water-animation}{https://opengameart.org/content/the-battle-for-wesnoth-water-animation}
	\end{labeling}

	\paragraph{Joystix Monospace}
	Fuente tipográfica usada en el juego.
	\begin{labeling}{\textbf{Dirección}}
		\item[\textbf{Autores}] Typodermic Fonts
		\item[\textbf{Licencia}] \href{https://www.fontspring.com/lic/jcefupvyrh}{The Fontspring Desktop Font EULA Version 1.7.0 - February 26, 2017} 
		\item[\textbf{Licencia}] \href{https://www.fontspring.com/lic/avhl0opgxj}{The Fontspring Application Font EULA Version 1.7.2 - May 14, 2018}. Usada con fines académicos bajo permiso del autor.
		\item[\textbf{Dirección}] \href{https://opengameart.org/content/the-battle-for-wesnoth-water-animation}{https://opengameart.org/content/the-battle-for-wesnoth-water-animation}
	\end{labeling}

	\paragraph{USS Columbus (SSN 762) performing an emergency ballast blow}
	Foto de un submarino mostrada al arrancar el juego.
	\begin{labeling}{\textbf{Dirección}}
		\item[\textbf{Autores}] U.S. Navy photo by Photographer's Mate 2nd Class David C. Duncan
		\item[\textbf{Licencia}] \href{https://creativecommons.org/publicdomain/mark/1.0/deed.es_ES}{Etiqueta de Dominio Público 1.0)
			Dedicación de Dominio Público}
		\item[\textbf{Dirección}]\href{https://commons.wikimedia.org/wiki/File:980604-N-7726D-002_Submarine_Emergency_Surfacing_Drill.jpg}{Wikimedia Commons}
	\end{labeling}

\section{Dificultades}
\label{sec:dificultades}

\section{ ... otros ...}

\cleardoubleoddpage
%\addcontentsline{toc}{part}{Referencias}
	\renewcommand{\sectionmark}[1]{}
\begin{thebibliography}{9}
	\raggedright
	\input{bibliography}
\end{thebibliography}
\markright{\appendixname}

\cleardoubleoddpage
\appendix
\addcontentsline{toc}{section}{\Large\appendixname}

\section{Un apéndice}
	\FloatBarrier

\end{document}